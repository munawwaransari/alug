<html>
<head>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/css/index.css">
  <script>
    var keyboard;
	window.onload= function(){
		const arabicLayout = {
			  layout: {
				default: [
				  "\u0630 1 2 3 4 5 6 7 8 9 0 - = {bksp}",
				  "{tab} \u0636 \u0635 \u062B \u0642 \u0641 \u063A \u0639 \u0647 \u062E \u062D \u062C \u062F \\",
				  "{lock} \u0634 \u0633 \u064A \u0628 \u0644 \u0627 \u062A \u0646 \u0645 \u0643 \u0637 {enter}",
				  "{shift} \u0626 \u0621 \u0624 \u0631 \u0644\u0627 \u0649 \u0629 \u0648 \u0632 \u0638 {shift}",
				  ".com @ {space}",
				],
				shift: [
				  "\u0651 ! @ # $ % ^ & * ) ( _ + {bksp}",
				  "{tab} \u064E \u064B \u064F \u064C \u0644\u0625 \u0625 \u2018 \u00F7 \u00D7 \u061B < > |",
				  '{lock} \u0650 \u064D ] [ \u0644\u0623 \u0623 \u0640 \u060C / : " {enter}',
				  "{shift} ~ \u0652 } { \u0644\u0622 \u0622 \u2019 , . \u061F {shift}",
				  ".com @ {space}",
				],
			  },
		};

		const Keyboard = window.SimpleKeyboard.default;
		const swipe = window.SimpleKeyboardSwipe.default;

		const keyboard = new Keyboard({
		  onChange: input => onChange(input),
		  onKeyPress: button => onKeyPress(button),
		  useMouseEvents: true,
		  arabicLayout,
		  modules: [
			swipe
		  ],
		});
		
		keyboard.setOptions({ layout : arabicLayout.layout });
	}

	function onChange(input){
	  document.querySelector(".input").value = input;
	  console.log("Input changed", input);
	}

	function onKeyPress(button){
	  console.log("Button pressed", button);
		//if(button == "Clear"){
		//	const inputElements = document.getElementsByTagName('input');
		//	inputElements[0].value = '';
		//	keyboard.clearInput();
		//}	
	}
	
	function copyToClip(){
		var copyText = document.getElementsByTagName("input");
	    console.log(copyText);
		copyText[0].select();
		copyText[0].setSelectionRange(0, 99999); 
		navigator.clipboard.writeText(copyText[0].value);
		console.log("Copied to clipboard!");
	}
  </script>
</head>

<body>
  <div><input class="input" /><button onclick="copyToClip()">Copy</button></div>
  <div class="keyboardContainer">
    <div class="simple-keyboard"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/index.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swipe-keyboard@latest/build/index.min.js"></script>
</body>
</html>